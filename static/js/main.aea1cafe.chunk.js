(this["webpackJsonpfloan-ui"]=this["webpackJsonpfloan-ui"]||[]).push([[0],{118:function(e,t,n){},128:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"internalType":"address","name":"_pohAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"requestor","type":"address"},{"indexed":true,"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"LogDrawLoan","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"requestor","type":"address"},{"indexed":true,"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"LogPaybackLoan","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"matcher","type":"address"},{"indexed":true,"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"LogProvideLoan","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"requester","type":"address"},{"indexed":true,"internalType":"uint256","name":"loanID","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"principal","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"repayment","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"duration","type":"uint256"}],"name":"LogRequestLoan","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"requestor","type":"address"},{"indexed":true,"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"LogSlashDebtor","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"canUsePlattform","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"drawLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_loanId","type":"uint256"}],"name":"getCredit","outputs":[{"components":[{"internalType":"address","name":"requester","type":"address"},{"internalType":"address","name":"lender","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"repayment","type":"uint256"},{"internalType":"uint48","name":"duration","type":"uint48"},{"internalType":"uint48","name":"startBlock","type":"uint48"},{"internalType":"enum FloanTypes.State","name":"state","type":"uint8"}],"internalType":"struct FloanTypes.credit","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPOHAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getloanNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"paybackLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"provideLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_principal","type":"uint256"},{"internalType":"uint256","name":"_repayment","type":"uint256"},{"internalType":"uint256","name":"_duration","type":"uint256"}],"name":"requestLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newTokenAddress","type":"address"}],"name":"setNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"slashDebtor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanID","type":"uint256"}],"name":"takePayback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},129:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},156:function(e,t,n){},162:function(e,t,n){},164:function(e,t){},176:function(e,t,n){},181:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(28),i=n.n(s),o=n(135),u=n(4),c=n.n(u),l=n(35),p=n(6),d=n(7),y=n(10),m=n(9),f=n(48),b=n(246),j=(n(156),n(8));function h(e){var t=e.connectWallet;return Object(j.jsx)("div",{className:"Landing__container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{children:Object(j.jsx)("h1",{children:"fLoan: uncolleteralized loans made real"})}),Object(j.jsx)("div",{className:"Landing__connectButton",children:Object(j.jsx)(b.a,{variant:"outlined",onClick:t,children:"Connect wallet"})})]})})}var v=n(128),x=n(129),O=n(53),w=n(245),g=(n(162),function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={principal:"",repayment:"",duration:""},e.prepCreateLoanOffer=function(){var t=O.utils.parseEther(e.state.principal),n=O.utils.parseEther(e.state.repayment),a=24*parseInt(e.state.duration,10)*60*60;e.props.createLoanOffer(t,n,a)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"CreateLoan__container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(b.a,{variant:"outlined",color:"primary",onClick:this.props.goToHomeView,children:"Home"}),Object(j.jsx)("h2",{className:"CreateLoan__title",children:"Create loan offer"}),Object(j.jsx)("div",{className:"CreateLoan__input",children:Object(j.jsx)(w.a,{value:this.state.principal,onChange:function(t){return e.setState({principal:t.target.value})},label:"Principal",variant:"outlined",fullWidth:!0})}),Object(j.jsx)("div",{className:"CreateLoan__input",children:Object(j.jsx)(w.a,{value:this.state.repayment,onChange:function(t){return e.setState({repayment:t.target.value})},label:"Repayment (prin + interest)",variant:"outlined",fullWidth:!0})}),Object(j.jsx)("div",{className:"CreateLoan__input",children:Object(j.jsx)(w.a,{value:this.state.duration,onChange:function(t){return e.setState({duration:t.target.value})},label:"Duration (days)",variant:"outlined",fullWidth:!0})}),Object(j.jsx)("div",{className:"CreateLoan__button",children:Object(j.jsx)(b.a,{variant:"outlined",color:"primary",onClick:this.prepCreateLoanOffer,children:"Create"})})]})})}}]),n}(r.a.PureComponent));n(176);function T(e){var t=e.signerAddress,n=e.goToCreateLoanView,a=e.goToListLoansView,r=e.goToRequesterProvidedLoansView,s=e.goToRequesterDrawnLoansView;return Object(j.jsx)("div",{className:"Home__container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h3",{children:["You are logged-in as ",t]})}),Object(j.jsx)("div",{className:"Home__button",children:Object(j.jsx)(b.a,{variant:"outlined",onClick:n,children:"Create loan request"})}),Object(j.jsx)("div",{className:"Home__button",children:Object(j.jsx)(b.a,{variant:"outlined",onClick:a,children:"View open loans"})}),Object(j.jsx)("div",{className:"Home__button",children:Object(j.jsx)(b.a,{variant:"outlined",onClick:r,children:"Draw funds from provided loans"})}),Object(j.jsx)("div",{className:"Home__button",children:Object(j.jsx)(b.a,{variant:"outlined",onClick:s,children:"Pay back your loans"})})]})})}var _=n(242),L=n(244),q=n(240),C=n(241),k=n(243),V=n(239),A=n(94),M=n.n(A);n(118);function N(e){var t=e.goToHomeView,n=e.goToRequesterInfoView,a=e.fundLoan,r=e.openLoans.map((function(e){var t=function(e){var t=O.utils.formatEther(e);return parseFloat(t.toString()).toFixed(2)};return Object(j.jsxs)(V.a,{children:[Object(j.jsx)(q.a,{children:e.id}),Object(j.jsx)(q.a,{children:Object(j.jsx)("a",{onClick:function(){return n(e.request.requester.id)},children:e.request.requester.id})}),Object(j.jsx)(q.a,{children:t(e.request.principal)}),Object(j.jsx)(q.a,{children:t(e.request.repayment)}),Object(j.jsx)(q.a,{children:function(e){var t=parseInt(e,10)/60/60/24;return Number(t).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(e.request.duration)}),Object(j.jsx)(q.a,{children:Object(j.jsx)(M.a,{onClick:function(){return a(e.id)}})})]},e.id)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{variant:"outlined",color:"primary",onClick:t,children:"Home"}),Object(j.jsx)("div",{className:"Table__container",children:Object(j.jsx)(C.a,{children:Object(j.jsxs)(_.a,{className:"TablePage__table","aria-label":"simple table",children:[Object(j.jsx)(k.a,{children:Object(j.jsxs)(V.a,{children:[Object(j.jsx)(q.a,{children:"Id"}),Object(j.jsx)(q.a,{children:"Requester"}),Object(j.jsx)(q.a,{children:"Principal"}),Object(j.jsx)(q.a,{children:"Repayment"}),Object(j.jsx)(q.a,{children:"Duration (in days)"}),Object(j.jsx)(q.a,{})]})}),Object(j.jsx)(L.a,{children:r})]})})})]})}n(181);function R(e){var t=e.goToHomeView,n=e.requesterInfo,a=function(e){var t=O.utils.formatEther(e);return parseFloat(t.toString()).toFixed(2)};return Object(j.jsx)("div",{className:"Centered__container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(b.a,{variant:"outlined",color:"primary",onClick:t,children:"Home"}),Object(j.jsxs)("div",{className:"Centered__line",children:["Requester address: ",n.id]}),Object(j.jsxs)("div",{className:"Centered__line",children:["Amount outstanding: ",a(n.amountOutstanding)]}),Object(j.jsxs)("div",{className:"Centered__line",children:["Amount repayed: ",a(n.amountRepayed)]}),Object(j.jsxs)("div",{className:"Centered__line",children:["Amount requested: ",a(n.amountRequested)]}),Object(j.jsxs)("div",{className:"Centered__line",children:["Amount overdue: ",a(n.amountOverdue)]}),Object(j.jsx)("div",{className:"Centered__line",children:Object(j.jsx)("a",{href:"https://app-kovan.poh.dev/profile/".concat(n.id),target:"_blank",children:"Proof of humanity"})})]})})}function D(e){var t=e.action,n=e.goToHomeView,a=e.requesterLoans,r=e.title,s=a.map((function(e){return Object(j.jsxs)(V.a,{children:[Object(j.jsx)(q.a,{children:e.id}),Object(j.jsx)(q.a,{children:O.utils.formatEther(e.request.principal)}),Object(j.jsx)(q.a,{children:O.utils.formatEther(e.request.repayment)}),Object(j.jsx)(q.a,{children:O.utils.formatEther(e.request.duration)}),Object(j.jsx)(q.a,{children:Object(j.jsx)(M.a,{onClick:function(){return t(e.id)}})})]},e.id)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{variant:"outlined",color:"primary",onClick:n,children:"Home"}),Object(j.jsx)("h1",{children:r}),Object(j.jsx)("div",{className:"Table__container",children:Object(j.jsx)(C.a,{children:Object(j.jsxs)(_.a,{className:"TablePage__table","aria-label":"simple table",children:[Object(j.jsx)(k.a,{children:Object(j.jsxs)(V.a,{children:[Object(j.jsx)(q.a,{children:"Id"}),Object(j.jsx)(q.a,{children:"Principal"}),Object(j.jsx)(q.a,{children:"Repayment"}),Object(j.jsx)(q.a,{children:"Duration"}),Object(j.jsx)(q.a,{children:"Pay"})]})}),Object(j.jsx)(L.a,{children:s})]})})})]})}var H=n(108),I=n(109),P=n.n(I),S=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"{\n        loans {\n          id\n          request {\n            requester {\n                id\n                amountOutstanding\n                amountRequested\n                amountRepayed\n            }\n            principal\n            repayment\n            duration\n          }\n          provision {\n                id\n                timestamp\n          }\n          state\n        }\n      }",e.next=3,P.a.post("https://api.thegraph.com/subgraphs/name/kronael/floan",{query:"{\n        loans {\n          id\n          request {\n            requester {\n                id\n                amountOutstanding\n                amountRequested\n                amountRepayed\n            }\n            principal\n            repayment\n            duration\n          }\n          provision {\n                id\n                timestamp\n          }\n          state\n        }\n      }"});case 3:t=e.sent,n=t.data.data.loans,a=Object(H.a)(n);try{for(a.s();!(r=a.n()).done;)(s=r.value).provision?(s.expires=s.provision.timestamp+Number(s.request.duration),s.is_expired=s.expires<Date.now()/1e3&&("PROVIDED"==s.state||"DRAWN"!=s.state)):(s.expires=null,s.is_expired=!1)}catch(i){a.e(i)}finally{a.f()}return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,a,r,s,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='{requester(id: "'.concat(t,'") {\n        id\n        amountOutstanding\n        amountRepayed\n        amountRequested\n      }}'),e.next=3,P.a.post("https://api.thegraph.com/subgraphs/name/kronael/floan",{query:n});case 3:return a=e.sent,(r=a.data.data.requester).amountOverdue=0,e.next=8,S();case 8:s=e.sent,i=Object(H.a)(s);try{for(i.s();!(o=i.n()).done;)(u=o.value).request.requester.id==t&&u.is_expired&&(r.amountOverdue+=u.request.repayment)}catch(c){i.e(c)}finally{i.f()}return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F="home",W="create_loan",B="list_loans",J="requester_info",Y="requester_provided_loans_view",z="requester_drawn_loans_view",U=function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={floanContract:null,daiContract:null,activeView:F,loans:[],requesterInfo:null},e.componentDidMount=Object(l.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f.a.Contract("0xAF2A62634f1021f36559CC0a3e0767E06488e9e7",v,e.props.signer),t.next=3,n.getTokenAddress();case 3:a=t.sent,r=new f.a.Contract(a,x,e.props.signer),e.setState({daiContract:r,floanContract:n});case 6:case"end":return t.stop()}}),t)}))),e.goToCreateLoanView=function(){e.setState({activeView:W})},e.goToListLoansView=Object(l.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,console.log(n),e.setState({activeView:B,loans:n});case 5:case"end":return t.stop()}}),t)}))),e.goToRequesterInfoView=function(){var t=Object(l.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(n);case 2:a=t.sent,console.log(a),e.setState({activeView:J,requesterInfo:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.goToRequesterProvidedLoansView=Object(l.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,console.log(n),e.setState({activeView:Y,loans:n});case 5:case"end":return t.stop()}}),t)}))),e.goToRequesterDrawnLoansView=Object(l.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,console.log(n),e.setState({activeView:z,loans:n});case 5:case"end":return t.stop()}}),t)}))),e.goToHomeView=function(){e.setState({activeView:F})},e.createLoanOffer=function(){var t=Object(l.a)(c.a.mark((function t(n,a,r){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.floanContract.requestLoan(n,a,r);case 2:s=t.sent,console.log(s),alert("Loan properly created!"),e.goToHomeView();case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.fundLoan=function(){var t=Object(l.a)(c.a.mark((function t(n){var a,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f.a.utils.parseEther("1000"),t.next=3,e.state.daiContract.approve("0xAF2A62634f1021f36559CC0a3e0767E06488e9e7",a);case 3:return r=t.sent,console.log(r),t.next=7,e.state.floanContract.provideLoan(n);case 7:s=t.sent,console.log(s),alert("You successfully funded loan: ".concat(n)),e.goToHomeView();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.drawLoan=function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=console,t.next=3,e.state.floanContract.drawLoan(n);case 3:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),alert("You received the funds from the load: ".concat(n)),e.goToHomeView();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.paybackLoan=function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=console,t.next=3,e.state.floanContract.paybackLoan(n);case 3:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),alert("You successfully payed back loan: ".concat(n)),e.goToHomeView();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this;if(this.state.activeView===F)e=Object(j.jsx)(T,{goToCreateLoanView:this.goToCreateLoanView,goToListLoansView:this.goToListLoansView,goToRequesterProvidedLoansView:this.goToRequesterProvidedLoansView,goToRequesterDrawnLoansView:this.goToRequesterDrawnLoansView,signerAddress:this.props.signerAddress});else if(this.state.activeView===W)e=Object(j.jsx)(g,{goToHomeView:this.goToHomeView,createLoanOffer:this.createLoanOffer});else if(this.state.activeView===B)e=Object(j.jsx)(N,{goToHomeView:this.goToHomeView,openLoans:this.state.loans.filter((function(e){return"OPEN"===e.state})),fundLoan:this.fundLoan,goToRequesterInfoView:this.goToRequesterInfoView});else if(this.state.activeView===J)e=Object(j.jsx)(R,{goToHomeView:this.goToHomeView,requesterInfo:this.state.requesterInfo});else if(this.state.activeView===Y){var n=this.state.loans.filter((function(e){return e.request.requester.id.toLowerCase()===t.props.signerAddress.toLowerCase()&&"PROVIDED"===e.state}));e=Object(j.jsx)(D,{title:"Provided loans (funded loans, not withdrawn)",goToHomeView:this.goToHomeView,requesterLoans:n,action:this.drawLoan})}else if(this.state.activeView===z){var a=this.state.loans.filter((function(e){return e.request.requester.id.toLowerCase()===t.props.signerAddress.toLowerCase()&&"DRAWN"===e.state}));e=Object(j.jsx)(D,{title:"Reimburse loans",goToHomeView:this.goToHomeView,requesterLoans:a,action:this.paybackLoan})}return Object(j.jsx)("div",{children:e})}}]),n}(r.a.PureComponent),G=(n(199),function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={provider:null,signer:null,signerAddress:null},e.componentDidMount=Object(l.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new f.a.providers.Web3Provider(window.ethereum),e.setState({provider:n},Object(l.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._isMetaMaskAccountConnected();case 2:if(!t.sent){t.next=8;break}return n=e.state.provider.getSigner(),t.next=6,n.getAddress();case 6:a=t.sent,e.setState({signerAddress:a,signer:n});case 8:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)}))),e._isMetaMaskAccountConnected=Object(l.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.provider.listAccounts();case 2:return n=t.sent,t.abrupt("return",n.length>0);case 4:case"end":return t.stop()}}),t)}))),e.connectWallet=Object(l.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.provider.send("eth_requestAccounts",[]);case 2:return n=e.state.provider.getSigner(),t.next=5,n.getAddress();case 5:a=t.sent,e.setState({signerAddress:a,signer:n});case 7:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"App__container",children:this.state.signer?Object(j.jsx)(U,Object(o.a)({},this.state)):Object(j.jsx)(h,{connectWallet:this.connectWallet})})}}]),n}(r.a.PureComponent));i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.aea1cafe.chunk.js.map